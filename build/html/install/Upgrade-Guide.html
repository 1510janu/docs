<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mattermost Upgrade Guide &mdash; Mattermost 1.3 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Mattermost 1.3 documentation" href="../index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mattermost-upgrade-guide">
<span id="mattermost-upgrade-guide"></span><h1>Mattermost Upgrade Guide<a class="headerlink" href="#mattermost-upgrade-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="upgrading-mattermost-to-next-major-release">
<span id="upgrading-mattermost-to-next-major-release"></span><h2>Upgrading Mattermost to Next Major Release<a class="headerlink" href="#upgrading-mattermost-to-next-major-release" title="Permalink to this headline">¶</a></h2>
<p>Each release of Mattermost contains logic to upgrade it from the previously major build version. For example, version 1.2 upgrades the database and configuration data schema for a Mattermost version 1.1 server. The following procedure outlines how to upgrade Mattermost to the next major release version.</p>
<p>If you&#8217;re upgrading across multiple major releases, from 1.0.x to 1.2.x for example, please run the following procedure once for each incremental upgrade, in sequential order.</p>
<ol class="simple">
<li>Download the <strong>next major build release</strong> of your server</li>
<li>Determine the current version of your Mattermost server
1. Go to any team site, opening the main menu at the top right of the left-hand sidebar and selecting <strong>About Mattermost</strong></li>
<li>Identify the next major build release of your Mattermost server from the list of <a class="reference external" href="https://github.com/mattermost/platform/releases">stable Mattermost releases</a>
1. For example, if your current version is 1.1.0, you want to select version 1.2.0.<ol>
<li>In some cases there will be <strong>minor build releases</strong>, such as 1.2.1 and 1.2.2. The minor build number indicates a bug fix or security issue release. Testing on minor build versions is less extensive than on major build versions and it is recommended that you use the minor build only if you need the specific additions included.</li>
</ol>
</li>
<li>Review Release Notes
1. Check the release notes for the version of Mattermost you are able to install, and note any setting changes in the <strong>Compatibility</strong> section that apply to your deployment (Release notes across versions are available from the <a class="reference external" href="https://github.com/mattermost/platform/blob/master/CHANGELOG.md">CHANGELOG</a>).</li>
<li>Download the <code class="docutils literal"><span class="pre">mattermost.tar.gz</span></code> file with the correct version for your upgrade
1. You can use <code class="docutils literal"><span class="pre">wget</span></code> to retrieve a specific version. For example, to download v1.1.0 run <code class="docutils literal"><span class="pre">wget</span> <span class="pre">https://github.com/mattermost/platform/releases/download/v1.1.0/mattermost.tar.gz</span></code></li>
<li>Stop the Mattermost Server</li>
<li>As best practice, consider posting to the Town Square channel of active teams pre-announcing the scheduled downtime to apply these upgrade procedures</li>
<li>To stop the server run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">stop</span> <span class="pre">mattermost</span></code></li>
<li>Backup your data</li>
<li>Back up your <code class="docutils literal"><span class="pre">config.json</span></code> file, which contains your system configuration. This will be used to restore your current settings after the new version is installed</li>
<li>Backup your database using your organization&#8217;s standard procedures for backing up MySQL or PostgreSQL</li>
<li>If you&#8217;re using local file storage, back up the location where files are stored</li>
<li>Decompress <code class="docutils literal"><span class="pre">mattermost.tar.gz</span></code> and use its contents to replace the current version of Mattermost on disk</li>
<li>Run <code class="docutils literal"><span class="pre">tar</span> <span class="pre">-xvzf</span> <span class="pre">mattermost.tar.gz</span></code></li>
<li>Restore the state of your server by copying the backed up version of <code class="docutils literal"><span class="pre">config.json</span></code> in place of the default <code class="docutils literal"><span class="pre">config.json</span></code></li>
<li>Start your server and address any setting changes relevant in the latest version of Mattermost</li>
<li>Run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">start</span> <span class="pre">mattermost</span></code></li>
<li>Go to the <strong>System Console</strong> to update any settings that have been added or modified based on the <strong>Compatibility</strong> section in the release notes of the version you are installing (Release notes across versions are available from the <a class="reference external" href="https://github.com/mattermost/platform/blob/master/CHANGELOG.md">CHANGELOG</a>).
1. Opening the System Console and saving a change will upgrade your <code class="docutils literal"><span class="pre">config.json</span></code> schema to the latest version using default values for new settings added</li>
<li>Test the system is working by going to the URL of an existing team. You may need to refresh your Mattermost browser page in order to get the latest updates from the upgrade</li>
</ol>
</div>
<div class="section" id="upgrading-from-mattermost-beta-version-0-7">
<span id="upgrading-from-mattermost-beta-version-0-7"></span><h2>Upgrading from Mattermost Beta (Version 0.7)<a class="headerlink" href="#upgrading-from-mattermost-beta-version-0-7" title="Permalink to this headline">¶</a></h2>
<p>The following instructions apply to updating installations of Mattermost v0.7-Beta to Mattermost 1.1.</p>
<div class="section" id="upgrading-mattermost-in-gitlab-8-0-to-gitlab-8-1-with-omnibus">
<span id="upgrading-mattermost-in-gitlab-8-0-to-gitlab-8-1-with-omnibus"></span><h3>Upgrading Mattermost in GitLab 8.0 to GitLab 8.1 with omnibus<a class="headerlink" href="#upgrading-mattermost-in-gitlab-8-0-to-gitlab-8-1-with-omnibus" title="Permalink to this headline">¶</a></h3>
<p>Mattermost 0.7.1-beta in GitLab 8.0 was a pre-release of Mattermost and Mattermost v1.1.1 in GitLab 8.1 was <a class="reference external" href="https://github.com/mattermost/platform/blob/master/CHANGELOG.md#configjson-changes-from-v07-to-v10">updated significantly</a> to get to a stable, forwards-compatible platform for Mattermost.</p>
<p>The Mattermost team didn&#8217;t think it made sense for GitLab omnibus to attempt an automated re-configuration of Mattermost (since 0.7.1-beta was a pre-release) given the scale of change, so we&#8217;re providing instructions for GitLab users who have customized their Mattermost deployments in 8.0 to move to 8.1:</p>
<ol class="simple">
<li>Follow the <a class="reference external" href="https://github.com/mattermost/platform/blob/master/doc/install/Upgrade-Guide.md#upgrading-mattermost-v071-beta-to-v111">Upgrading Mattermost v0.7.1-beta to v1.1.1 instructions</a> below to identify the settings in Mattermost&#8217;s <code class="docutils literal"><span class="pre">config.json</span></code> file that differ from defaults and need to be updated from GitLab 8.0 to 8.1</li>
<li>Upgrade to GitLab 8.1 using omnibus, and allowing it overwrite <code class="docutils literal"><span class="pre">config.json</span></code> to the new Mattermost v1.1.1 format</li>
<li>Manually update <code class="docutils literal"><span class="pre">config.json</span></code> to new settings identified in Step 1</li>
</ol>
<p>Optionally, you can use the new <a class="reference external" href="https://github.com/mattermost/platform/blob/master/doc/install/Configuration-Settings.md">System Console user interface</a> to make changes to your new <code class="docutils literal"><span class="pre">config.json</span></code> file.</p>
</div>
<div class="section" id="upgrading-mattermost-v0-7-1-beta-to-v1-1-1">
<span id="upgrading-mattermost-v0-7-1-beta-to-v1-1-1"></span><h3>Upgrading Mattermost v0.7.1-beta to v1.1.1<a class="headerlink" href="#upgrading-mattermost-v0-7-1-beta-to-v1-1-1" title="Permalink to this headline">¶</a></h3>
<p><em>Note: <a class="reference external" href="https://github.com/mattermost/platform/releases/tag/v1.1.1">Mattermost v1.1.1</a> is a special release of Mattermost v1.1 that upgrades the database to Mattermost v1.1 from EITHER Mattermost v0.7 or Mattermost v1.0. The following instructions are for upgrading from Mattermost v0.7.1-beta to v1.1.1 and skipping the upgrade to Mattermost v1.0.</em></p>
<p>If you&#8217;ve manually changed Mattermost v0.7.1-beta configuration by updating the <code class="docutils literal"><span class="pre">config.json</span></code> file, you&#8217;ll need to port those changes to Mattermost v1.1.1:</p>
<ol class="simple">
<li>Go to the <code class="docutils literal"><span class="pre">config.json</span></code> file that you manually updated and note any differences from the <a class="reference external" href="https://github.com/mattermost/platform/blob/v0.7.0/config/config.json">default <code class="docutils literal"><span class="pre">config.json</span></code> file in Mattermost 0.7</a>.</li>
<li>For each setting that you changed, check <a class="reference external" href="https://github.com/mattermost/platform/blob/master/CHANGELOG.md#configjson-changes-from-v07-to-v10">the changelog documentation</a> on whether the configuration setting has changed between v0.7 and v1.1.1</li>
<li>Update your new <a class="reference external" href="https://github.com/mattermost/platform/blob/v1.1.0/config/config.json"><code class="docutils literal"><span class="pre">config.json</span></code> file in Mattermost v1.1</a>, based on your preferences and the changelog documentation above</li>
</ol>
<p>Optionally, you can use the new <a class="reference external" href="https://github.com/mattermost/platform/blob/master/doc/install/Configuration-Settings.md">System Console user interface</a> to make changes to your new <code class="docutils literal"><span class="pre">config.json</span></code> file.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Mattermost Upgrade Guide</a><ul>
<li><a class="reference internal" href="#upgrading-mattermost-to-next-major-release">Upgrading Mattermost to Next Major Release</a></li>
<li><a class="reference internal" href="#upgrading-from-mattermost-beta-version-0-7">Upgrading from Mattermost Beta (Version 0.7)</a><ul>
<li><a class="reference internal" href="#upgrading-mattermost-in-gitlab-8-0-to-gitlab-8-1-with-omnibus">Upgrading Mattermost in GitLab 8.0 to GitLab 8.1 with omnibus</a></li>
<li><a class="reference internal" href="#upgrading-mattermost-v0-7-1-beta-to-v1-1-1">Upgrading Mattermost v0.7.1-beta to v1.1.1</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/install/Upgrade-Guide.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Mattermost.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="../_sources/install/Upgrade-Guide.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>